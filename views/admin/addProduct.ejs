<%- include ('../../layout/adminlayout/header.ejs') %>

<style>
  body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f0f0f0;
  }
  .form-container {
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  .form-group {
      margin-bottom: 20px;
     
  }
  .form {
    margin-left: 30px;
  }
  label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
  }
  textarea, select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
  }
  .image-upload-container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
  }
  .image-upload-box {
      width: 200px;
      height: 200px;
      border: 2px dashed #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
      overflow: hidden;
  }
  .image-upload-box img {
      max-width: 100%;
      max-height: 100%;
      object-fit: cover;
  }
  .image-upload-box input[type="file"] {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
  }
  .button-group {
      display: flex;
      gap: 10px;
      margin-top: 10px;
  }
  button {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
  }
  .replace-btn {
      background-color: #6c5ce7;
      color: white;
     
  }
 
  .remove-btn {
      background-color: #ff7675;
      color: white;
  }
  .add-product-btn {
      background-color: #00b894;
      color: white;
      font-size: 16px;
      padding: 10px 20px;
      margin-top: 20px;
  }
</style>

  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5DDHKGP" height="0" width="0"
      style="display: none; visibility: hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <!-- Layout wrapper -->
  <div class="layout-wrapper layout-content-navbar  ">
    <div class="layout-container">







      <!-- Menu -->

      <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">


        <div class="app-brand demo ">
          
        </div>

        <div class="menu-inner-shadow"></div>



        <ul class="menu-inner py-1">
         
          
          <!-- e-commerce-app menu start -->
          <li class="menu-item active open">
            <a href="javascript:void(0);" class="menu-link menu-toggle">
              <i class='menu-icon tf-icons ri-shopping-bag-3-line'></i>
              <div data-i18n="woodnwonder">woodnwonder</div>
            </a>
            <ul class="menu-sub">
              <li class="menu-item ">
                <a href="/admin/dashboard" class="menu-link">
                  <div data-i18n="Dashboard">Dashboard</div>
                </a>
              </li>
              <li class="menu-item active open">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <div data-i18n="Products">Products</div>
                </a>
                <ul class="menu-sub">
                  <li class="menu-item">
                    <a href="/admin/product" class="menu-link">
                      <div data-i18n="Product List">Product List</div>
                    </a>
                  </li>
                  <li class="menu-item active">
                    <a href="/admin/addProduct" class="menu-link">
                      <div data-i18n="Add Product">Add Product</div>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="menu-item">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <div data-i18n="Category">Category</div>
                </a>
                <ul class="menu-sub">
                  <li class="menu-item">
                    <a href="/admin/category" class="menu-link">
                      <div data-i18n="List all category">List all category</div>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="menu-item">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <div data-i18n="Order">Order</div>
                </a>
                <ul class="menu-sub">
                  <li class="menu-item">
                    <a href="/admin/orders" class="menu-link">
                      <div data-i18n="Order List">Order List</div>
                    </a>
                  </li>
        
                </ul>
              </li>
              <li class="menu-item">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <div data-i18n="Customer">Customer</div>
                </a>
                <ul class="menu-sub">
                  <li class="menu-item">
                    <a href="/admin/customers" class="menu-link">
                      <div data-i18n="All Customers">All Customers</div>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="menu-item ">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <div data-i18n="Offers">Offers</div>
                </a>
                <ul class="menu-sub">
        
                  <li class="menu-item ">
                    <a href="/admin/offers" class="menu-link">
                      <div data-i18n="Product Offers">Product Offers</div>
                    </a>
                  </li>
                  <li class="menu-item">
                    <a href="/admin/offers/category" class="menu-link">
                      <div data-i18n="Category Offers">Category Offers</div>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="menu-item ">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <div data-i18n="Coupons Management">Coupons Management</div>
                </a>
                <ul class="menu-sub">
        
                  <li class="menu-item ">
                    <a href="/admin/coupons" class="menu-link">
                      <div data-i18n="Coupen">Coupen</div>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="menu-item">
                <a href="javascript:void(0);" class="menu-link menu-toggle">
                  <div data-i18n="Sales Report">Sales Report</div>
                </a>
                <ul class="menu-sub">
        
                  <li class="menu-item">
                    <a href="/admin/salesreport" class="menu-link">
                      <div data-i18n="Report">Report</div>
                    </a>
                  </li>
                </ul>
              </li>
             
            </ul>
          </li>
        </ul>
              
          
          



      </aside>
      <!-- / Menu -->



      <!-- Layout container -->
      <!-- Layout container -->
      <div class="layout-page">
        <!-- Content wrapper -->
        <form method="POST" action="/admin/addProduct" enctype="multipart/form-data" class="form" onsubmit="return validateForm()">
          <!-- Name Field -->
          <div class="mb-4">
              <label for="name" class="form-label">Name</label>
              <input type="text" id="name" name="productName" placeholder="Product Name" class="form-control border">
              <div id="name-error" class="error-message"></div>
          </div>
      
          <!-- Description Field -->
          <div class="mb-6">
              <label for="description" class="form-label">Description</label>
              <textarea placeholder="Product Description" id="descriptionid" name="description" class="form-control border" rows="4"></textarea>
              <div id="description-error" class="error-message"></div>
          </div>
      
          <!-- Price, Stock, and Category Fields in Same Line -->
          <div class="row mb-4">
              <div class="col-lg-3">
                  <label class="form-label">Price</label>
                  <div class="input-group">
                      <span class="input-group-text">â‚¹</span>
                      <input type="number" step="0.01" name="price" class="form-control border" placeholder="0.00">
                  </div>
                  <div id="price-error" class="error-message"></div>
              </div>
      
              <div class="col-lg-3">
                  <label class="form-label">Stock</label>
                  <input placeholder="Enter stock quantity" name="quantity" type="number" class="form-control border">
                  <div id="quantity-error" class="error-message"></div>
              </div>
      
              <div class="col-lg-3">
                  <label class="form-label">Category</label>
                  <select class="form-select border" name="category">
                      <option value="">Select category</option>
                      <% categories.forEach(category => { %>
                          <option value="<%= category._id %>"><%= category.name %></option>
                      <% }) %>
                  </select>
                  <div id="category-error" class="error-message"></div>
              </div>
      
              <!-- Status Field -->
              <div class="col-lg-3">
                  <label class="form-label">Status</label>
                  <select class="form-select border" name="status">
                    <option value="" selected disabled>Select status</option>
                      <option value="active">Active</option>
                      <option value="inactive">Inactive</option>
                  </select>
                  <div id="status-error" class="error-message"></div>
              </div>
          </div>
      
          <!-- Submit Button -->
         
     
      
        
          <div class="mb-4">
            <label class="form-label">Product Images</label>
            <div class="d-flex flex-wrap gap-3">
              <!-- First Image Upload Box -->
              <div class="d-flex flex-column align-items-center mb-3">
                <div class="image-upload-box" style="width: 480px; height: 450px; border: 2px dashed #ddd; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                  <img src="/placeholder-image.jpg" alt="Preview" id="preview-0" style="max-width: 100%; max-height: 100%; object-fit: cover;">
                  <input type="file" name="images" accept="image/*" onchange="previewImage(this, 0)" style="position: absolute; width: 100%; height: 100%; opacity: 0; cursor: pointer;">
                </div>
                <div class="mt-2">
                  <button type="button" class="btn btn-primary btn-sm me-2" onclick="document.querySelector('#preview-0').previousElementSibling.click()">Replace Image</button>
                  <button type="button" class="btn btn-danger btn-sm" onclick="removeImage(0)">Remove Image</button>
                </div>
              </div>
          
              <!-- Second Image Upload Box -->
              <div class="d-flex flex-column align-items-center mb-3">
                <div class="image-upload-box" style="width: 480px; height: 450px; border: 2px dashed #ddd; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                  <img src="/placeholder-image.jpg" alt="Preview" id="preview-1" style="max-width: 100%; max-height: 100%; object-fit: cover;">
                  <input type="file" name="images" accept="image/*" onchange="previewImage(this, 1)" style="position: absolute; width: 100%; height: 100%; opacity: 0; cursor: pointer;">
                </div>
                <div class="mt-2">
                  <button type="button" class="btn btn-primary btn-sm me-12" onclick="document.querySelector('#preview-1').previousElementSibling.click()">Replace Image</button>
                  <button type="button" class="btn btn-danger btn-sm" onclick="removeImage(1)">Remove Image</button>
                </div>
              </div>
          
              <!-- Third Image Upload Box -->
              <div class="d-flex flex-column align-items-center mb-3">
                <div class="image-upload-box" style="width: 480px; height: 450px; border: 2px dashed #ddd; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                  <img src="/placeholder-image.jpg" alt="Preview" id="preview-2" style="max-width: 100%; max-height: 100%; object-fit: cover;">
                  <input type="file" name="images" accept="image/*" onchange="previewImage(this, 2)" style="position: absolute; width: 100%; height: 100%; opacity: 0; cursor: pointer;">
                </div>
                <div class="mt-2">
                  <button type="button" class="btn btn-primary btn-sm me-12" onclick="document.querySelector('#preview-2').previousElementSibling.click()">Replace Image</button>
                  <button type="button" class="btn btn-danger btn-sm" onclick="removeImage(2)">Remove Image</button>
                </div>
              </div>
          
            </div>
            <div id="images-error" class="error-message"></div>
          </div>
        
          <div>
            <button class="btn btn-primary" type="submit">Add Product</button>
        </div>
        </form>
          
          
          
          
      
      
      

      
      
      
      
      

          

            <script>


function previewImage(input, index) {
    const file = input.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(e) {
        const img = document.querySelector(`#preview-${index}`);
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  }

  
          

            </script>








          <%- include ('../../layout/adminlayout/footer.ejs') %>